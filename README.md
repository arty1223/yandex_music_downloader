# yandex_music_downloader
Простенький скрипт на Python для загрузки музыки с сервиса Яндекс.Музыка при помощи его [неофициальной библиотеки](https://github.com/MarshalX/yandex-music-api) от MarshalX.\
Изначально был написан для загрузки музыки на iPod поэтому, чтобы плеер мог сортировать треки, музыка загружается с обложками и метаданными (имя артиста, альбом, название трека).\
Также бонусом скрипт создает плейлист файл *playlist.txt* что может быть полезно для создания станций интернет-радио при помощи Icecast.\
Для работы необходимо получить [OAuth токен](https://github.com/MarshalX/yandex-music-api/discussions/513#discussioncomment-2729781)
***
### Зависимости:
```bash
pip install -r requirements.txt
```
***
### Примеры использования
```bash
python3 app.py # Вызов без аргументов. Загрузит плейлист "Мне нравится" в директорию yandex_music
python3 app.py -pl "ссылка на плейлист" # Загрузит плейлист по ссылке в директорию с названием плейлиста
python3 app.py -fix # Восстановит обложки и метаданные плейлиста "Мне нравится" если они по какой-то причине повредились
python3 app.py -fix -pl "ссылка на плейлист" # Тоже самое что и выше но для плейлиста указанного в ссылке
```
***
Полный список аргументов
```bash
  -fix_metadata - восстановление аудиотеки (только метаданные и обложки)
  -recovery - полное восстановление аудиотеки (загрузка всех треков по новой, обложек и метаданных к ним)
  -pl "link" - загрузка плейлиста по ссылке. Если не указано загружается плейлист "Мне нравится"
  -codec <codec> - выбор формата файла музыки (mp3/aac) по умолчанию - mp3
  -bitrate <bitrate> - выбор битрейта (64, 128, 192, 320) по умолчанию - 192
  -dir <path_to_directory> - директория в которую будет загружена музыка если пути нет и прав достаточно - директория будет создана в конечной точке пути
```
***
### Предупреждения
1. Ссылку на плейлист обязательно указывать в " " иначе будет ошибка
2. При использвании команд восстановления необходимо предоставить ссылку на плейлист который требуется восстановить, иначе будет восстановлен плейлист "Мне нравится"
3. При вызове без аргумента -dir все директории с музыкой создаются в той же директории где лежит файл app.py

PS Токен по-хорошему хранить бы в переменных среды а не втупую файлом, но я посчитал что так будет проще.
